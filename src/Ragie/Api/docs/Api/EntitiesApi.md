# OpenAPI\Client\EntitiesApi

All URIs are relative to https://api.ragie.ai, except if the operation defines another base path.

| Method | HTTP request | Description |
| ------------- | ------------- | ------------- |
| [**createInstruction()**](EntitiesApi.md#createInstruction) | **POST** /instructions | Create Instruction |
| [**deleteInstruction()**](EntitiesApi.md#deleteInstruction) | **DELETE** /instructions/{instruction_id} | Delete Instruction |
| [**listEntitiesByDocument()**](EntitiesApi.md#listEntitiesByDocument) | **GET** /documents/{document_id}/entities | Get Document Extracted Entities |
| [**listEntitiesByInstruction()**](EntitiesApi.md#listEntitiesByInstruction) | **GET** /instructions/{instruction_id}/entities | Get Instruction Extracted Entities |
| [**listInstructions()**](EntitiesApi.md#listInstructions) | **GET** /instructions | List Instructions |
| [**updateInstruction()**](EntitiesApi.md#updateInstruction) | **PUT** /instructions/{instruction_id} | Update Instruction |


## `createInstruction()`

```php
createInstruction($create_instruction_params): \OpenAPI\Client\Model\Instruction
```

Create Instruction

Create a new instruction. Instructions are applied to documents as they are created or updated. The results of the instruction are stored as structured data in the schema defined by the `entity_schema` parameter. The `prompt` parameter is a natural language instruction which will be applied to documents. This feature is in beta and may change in the future.

### Example

```php
<?php
require_once(__DIR__ . '/vendor/autoload.php');


// Configure Bearer authorization: auth
$config = OpenAPI\Client\Configuration::getDefaultConfiguration()->setAccessToken('YOUR_ACCESS_TOKEN');


$apiInstance = new OpenAPI\Client\Api\EntitiesApi(
    // If you want use custom http client, pass your client which implements `GuzzleHttp\ClientInterface`.
    // This is optional, `GuzzleHttp\Client` will be used as default.
    new GuzzleHttp\Client(),
    $config
);
$create_instruction_params = new \OpenAPI\Client\Model\CreateInstructionParams(); // \OpenAPI\Client\Model\CreateInstructionParams

try {
    $result = $apiInstance->createInstruction($create_instruction_params);
    print_r($result);
} catch (Exception $e) {
    echo 'Exception when calling EntitiesApi->createInstruction: ', $e->getMessage(), PHP_EOL;
}
```

### Parameters

| Name | Type | Description  | Notes |
| ------------- | ------------- | ------------- | ------------- |
| **create_instruction_params** | [**\OpenAPI\Client\Model\CreateInstructionParams**](../Model/CreateInstructionParams.md)|  | |

### Return type

[**\OpenAPI\Client\Model\Instruction**](../Model/Instruction.md)

### Authorization

[auth](../../README.md#auth)

### HTTP request headers

- **Content-Type**: `application/json`
- **Accept**: `application/json`

[[Back to top]](#) [[Back to API list]](../../README.md#endpoints)
[[Back to Model list]](../../README.md#models)
[[Back to README]](../../README.md)

## `deleteInstruction()`

```php
deleteInstruction($instruction_id): array<string,string>
```

Delete Instruction

Delete an instruction. This will delete the instruction and all entities generated by it. This operation is irreversible.

### Example

```php
<?php
require_once(__DIR__ . '/vendor/autoload.php');


// Configure Bearer authorization: auth
$config = OpenAPI\Client\Configuration::getDefaultConfiguration()->setAccessToken('YOUR_ACCESS_TOKEN');


$apiInstance = new OpenAPI\Client\Api\EntitiesApi(
    // If you want use custom http client, pass your client which implements `GuzzleHttp\ClientInterface`.
    // This is optional, `GuzzleHttp\Client` will be used as default.
    new GuzzleHttp\Client(),
    $config
);
$instruction_id = 'instruction_id_example'; // string | The ID of the instruction.

try {
    $result = $apiInstance->deleteInstruction($instruction_id);
    print_r($result);
} catch (Exception $e) {
    echo 'Exception when calling EntitiesApi->deleteInstruction: ', $e->getMessage(), PHP_EOL;
}
```

### Parameters

| Name | Type | Description  | Notes |
| ------------- | ------------- | ------------- | ------------- |
| **instruction_id** | **string**| The ID of the instruction. | |

### Return type

**array<string,string>**

### Authorization

[auth](../../README.md#auth)

### HTTP request headers

- **Content-Type**: Not defined
- **Accept**: `application/json`

[[Back to top]](#) [[Back to API list]](../../README.md#endpoints)
[[Back to Model list]](../../README.md#models)
[[Back to README]](../../README.md)

## `listEntitiesByDocument()`

```php
listEntitiesByDocument($document_id, $cursor, $page_size, $partition): \OpenAPI\Client\Model\EntityList
```

Get Document Extracted Entities

### Example

```php
<?php
require_once(__DIR__ . '/vendor/autoload.php');


// Configure Bearer authorization: auth
$config = OpenAPI\Client\Configuration::getDefaultConfiguration()->setAccessToken('YOUR_ACCESS_TOKEN');


$apiInstance = new OpenAPI\Client\Api\EntitiesApi(
    // If you want use custom http client, pass your client which implements `GuzzleHttp\ClientInterface`.
    // This is optional, `GuzzleHttp\Client` will be used as default.
    new GuzzleHttp\Client(),
    $config
);
$document_id = 'document_id_example'; // string | The id of the document.
$cursor = 'cursor_example'; // string | An opaque cursor for pagination
$page_size = 10; // int | The number of items per page (must be greater than 0 and less than or equal to 100)
$partition = 'partition_example'; // string | An optional partition to scope the request to. If omitted, accounts created after 1/9/2025 will have the request scoped to the default partition, while older accounts will have the request scoped to all partitions. Older accounts may opt in to strict partition scoping by contacting support@ragie.ai. Older accounts using the partitions feature are strongly recommended to scope the request to a partition.

try {
    $result = $apiInstance->listEntitiesByDocument($document_id, $cursor, $page_size, $partition);
    print_r($result);
} catch (Exception $e) {
    echo 'Exception when calling EntitiesApi->listEntitiesByDocument: ', $e->getMessage(), PHP_EOL;
}
```

### Parameters

| Name | Type | Description  | Notes |
| ------------- | ------------- | ------------- | ------------- |
| **document_id** | **string**| The id of the document. | |
| **cursor** | **string**| An opaque cursor for pagination | [optional] |
| **page_size** | **int**| The number of items per page (must be greater than 0 and less than or equal to 100) | [optional] [default to 10] |
| **partition** | **string**| An optional partition to scope the request to. If omitted, accounts created after 1/9/2025 will have the request scoped to the default partition, while older accounts will have the request scoped to all partitions. Older accounts may opt in to strict partition scoping by contacting support@ragie.ai. Older accounts using the partitions feature are strongly recommended to scope the request to a partition. | [optional] |

### Return type

[**\OpenAPI\Client\Model\EntityList**](../Model/EntityList.md)

### Authorization

[auth](../../README.md#auth)

### HTTP request headers

- **Content-Type**: Not defined
- **Accept**: `application/json`

[[Back to top]](#) [[Back to API list]](../../README.md#endpoints)
[[Back to Model list]](../../README.md#models)
[[Back to README]](../../README.md)

## `listEntitiesByInstruction()`

```php
listEntitiesByInstruction($instruction_id, $cursor, $page_size, $partition): \OpenAPI\Client\Model\EntityList
```

Get Instruction Extracted Entities

### Example

```php
<?php
require_once(__DIR__ . '/vendor/autoload.php');


// Configure Bearer authorization: auth
$config = OpenAPI\Client\Configuration::getDefaultConfiguration()->setAccessToken('YOUR_ACCESS_TOKEN');


$apiInstance = new OpenAPI\Client\Api\EntitiesApi(
    // If you want use custom http client, pass your client which implements `GuzzleHttp\ClientInterface`.
    // This is optional, `GuzzleHttp\Client` will be used as default.
    new GuzzleHttp\Client(),
    $config
);
$instruction_id = 'instruction_id_example'; // string | The ID of the instruction.
$cursor = 'cursor_example'; // string | An opaque cursor for pagination
$page_size = 10; // int | The number of items per page (must be greater than 0 and less than or equal to 100)
$partition = 'partition_example'; // string | An optional partition to scope the request to. If omitted, accounts created after 1/9/2025 will have the request scoped to the default partition, while older accounts will have the request scoped to all partitions. Older accounts may opt in to strict partition scoping by contacting support@ragie.ai. Older accounts using the partitions feature are strongly recommended to scope the request to a partition.

try {
    $result = $apiInstance->listEntitiesByInstruction($instruction_id, $cursor, $page_size, $partition);
    print_r($result);
} catch (Exception $e) {
    echo 'Exception when calling EntitiesApi->listEntitiesByInstruction: ', $e->getMessage(), PHP_EOL;
}
```

### Parameters

| Name | Type | Description  | Notes |
| ------------- | ------------- | ------------- | ------------- |
| **instruction_id** | **string**| The ID of the instruction. | |
| **cursor** | **string**| An opaque cursor for pagination | [optional] |
| **page_size** | **int**| The number of items per page (must be greater than 0 and less than or equal to 100) | [optional] [default to 10] |
| **partition** | **string**| An optional partition to scope the request to. If omitted, accounts created after 1/9/2025 will have the request scoped to the default partition, while older accounts will have the request scoped to all partitions. Older accounts may opt in to strict partition scoping by contacting support@ragie.ai. Older accounts using the partitions feature are strongly recommended to scope the request to a partition. | [optional] |

### Return type

[**\OpenAPI\Client\Model\EntityList**](../Model/EntityList.md)

### Authorization

[auth](../../README.md#auth)

### HTTP request headers

- **Content-Type**: Not defined
- **Accept**: `application/json`

[[Back to top]](#) [[Back to API list]](../../README.md#endpoints)
[[Back to Model list]](../../README.md#models)
[[Back to README]](../../README.md)

## `listInstructions()`

```php
listInstructions(): \OpenAPI\Client\Model\Instruction[]
```

List Instructions

List all instructions.

### Example

```php
<?php
require_once(__DIR__ . '/vendor/autoload.php');


// Configure Bearer authorization: auth
$config = OpenAPI\Client\Configuration::getDefaultConfiguration()->setAccessToken('YOUR_ACCESS_TOKEN');


$apiInstance = new OpenAPI\Client\Api\EntitiesApi(
    // If you want use custom http client, pass your client which implements `GuzzleHttp\ClientInterface`.
    // This is optional, `GuzzleHttp\Client` will be used as default.
    new GuzzleHttp\Client(),
    $config
);

try {
    $result = $apiInstance->listInstructions();
    print_r($result);
} catch (Exception $e) {
    echo 'Exception when calling EntitiesApi->listInstructions: ', $e->getMessage(), PHP_EOL;
}
```

### Parameters

This endpoint does not need any parameter.

### Return type

[**\OpenAPI\Client\Model\Instruction[]**](../Model/Instruction.md)

### Authorization

[auth](../../README.md#auth)

### HTTP request headers

- **Content-Type**: Not defined
- **Accept**: `application/json`

[[Back to top]](#) [[Back to API list]](../../README.md#endpoints)
[[Back to Model list]](../../README.md#models)
[[Back to README]](../../README.md)

## `updateInstruction()`

```php
updateInstruction($instruction_id, $update_instruction_params): \OpenAPI\Client\Model\Instruction
```

Update Instruction

### Example

```php
<?php
require_once(__DIR__ . '/vendor/autoload.php');


// Configure Bearer authorization: auth
$config = OpenAPI\Client\Configuration::getDefaultConfiguration()->setAccessToken('YOUR_ACCESS_TOKEN');


$apiInstance = new OpenAPI\Client\Api\EntitiesApi(
    // If you want use custom http client, pass your client which implements `GuzzleHttp\ClientInterface`.
    // This is optional, `GuzzleHttp\Client` will be used as default.
    new GuzzleHttp\Client(),
    $config
);
$instruction_id = 'instruction_id_example'; // string | The ID of the instruction.
$update_instruction_params = new \OpenAPI\Client\Model\UpdateInstructionParams(); // \OpenAPI\Client\Model\UpdateInstructionParams

try {
    $result = $apiInstance->updateInstruction($instruction_id, $update_instruction_params);
    print_r($result);
} catch (Exception $e) {
    echo 'Exception when calling EntitiesApi->updateInstruction: ', $e->getMessage(), PHP_EOL;
}
```

### Parameters

| Name | Type | Description  | Notes |
| ------------- | ------------- | ------------- | ------------- |
| **instruction_id** | **string**| The ID of the instruction. | |
| **update_instruction_params** | [**\OpenAPI\Client\Model\UpdateInstructionParams**](../Model/UpdateInstructionParams.md)|  | |

### Return type

[**\OpenAPI\Client\Model\Instruction**](../Model/Instruction.md)

### Authorization

[auth](../../README.md#auth)

### HTTP request headers

- **Content-Type**: `application/json`
- **Accept**: `application/json`

[[Back to top]](#) [[Back to API list]](../../README.md#endpoints)
[[Back to Model list]](../../README.md#models)
[[Back to README]](../../README.md)
